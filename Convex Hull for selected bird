import numpy as np
import arcpy
import math
from matplotlib import cm
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from functools import reduce
import random
import scipy.stats as stats
import datetime
from arcpy import env, analysis, management
from arcpy.sa import *
arcpy.env.workspace = r'C:\Users\Moritz\Documents\ArcGIS\Projects\littlebirds\littlebirds.gdb'
arcpy.CheckOutExtension('Spatial')
arcpy.env.overwriteOutput = True
from functools import reduce
from scipy.spatial import distance
import pickle


# Select suitable vegetation patches from all vegetation
#veg = "vegtype"

#where_clause = '"tag_ident" = \'1751\''
arcpy.Select_analysis("points", "bird_1751", '"tag_ident" = \'1751\'')

# Buffer areas of impact around major roads
distanceField = "15 Meter"
sideType = "FULL"
endType = "ROUND"
dissolveType = "ALL"
arcpy.Buffer_analysis("bird_1751", "buffer_output", distanceField, sideType, endType, dissolveType)
arcpy.MultipartToSinglepart_management("buffer_output", "buffer_output_comb")


arcpy.Select_analysis ("buffer_output_comb", "buffer_output_comb_max","Shape_Area = (SELECT MAX( Shape_Area) FROM buffer_output_comb)")

arcpy.analysis.Intersect("bird_1751 #;buffer_output_comb_max #", r"buffer_output_comb_max_Inter", "ALL", None, "POINT")

arcpy.management.MinimumBoundingGeometry("buffer_output_comb_max_Inter", "territory_bb", "CONVEX_HULL", "ALL", None, "NO_MBG_FIELDS")
